<?xml version="1.0" encoding="UTF-8"?>
<server description="OpenLiberty Java EE 8 Server">

	<!-- Enable features -->
	<featureManager>
		<feature>mpMetrics-1.0</feature>
		<feature>javaee-8.0</feature>
	</featureManager>

	<!-- To allow access to this server from a remote client host="*" has been 
		added to the following element -->
	<httpEndpoint id="defaultHttpEndpoint" host="*"
		httpPort="9080" httpsPort="9443" />

	<!-- default keystore is required by the CORBA ORB (and full Java EE 8 spec) -->
	<keyStore id="defaultKeyStore" password="Liberty" />


	<quickStartSecurity userName="admin"
		userPassword="adminadmin" />


	<!-- Automatically expand WAR files and EAR files -->
	<applicationManager autoExpand="true" />

	<dataSource id="DefaultDataSource"
                jndiName="jdbc/timely"
                jdbcDriverRef="postgresql-driver"
                type="javax.sql.ConnectionPoolDataSource"
                transactional="true">
        <properties serverName="timely-db"
                    portNumber="5432"
                    databaseName="timely-db"
                    user="postgres"
                    password="postgres"/>
    </dataSource>

    <jdbcDriver id="postgresql-driver"
                javax.sql.XADataSource="org.postgresql.xa.PGXADataSource"
                javax.sql.ConnectionPoolDataSource="org.postgresql.ds.PGConnectionPoolDataSource"
                libraryRef="postgresql-library"/>

    <library id="postgresql-library">
        <fileset id="PostgreSQLFileset" dir="/opt/wlp/usr/shared/resources/"
                includes="postgresql-driver.jar"/>
    </library>

</server>